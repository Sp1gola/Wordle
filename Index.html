<html>
    <head>
        <meta charset="UTF-8">
        <title>Wordle</title>
    </head>
    <body>
        <table id = "t" style="border: 1px solid black; height: 30vw; width: 25vw; margin-top: 5vw; margin-left: 35vw"></table>
    </body>
    <script>
        let contenuto = "";
        let id = 0;
        let currentIndex = 0;
        let tentativo = 1;
        function tabella() {
            for(let i = 0 ; i < 6; i++){
                contenuto = contenuto + "<tr>" +
                    "<td><input type='button' style='width:100%; height:100%' id='"+id+"'></td>" +
                    "<td><input type='button' style='width:100%; height:100%' id='"+(id+1)+"'></td>" +
                    "<td><input type='button' style='width:100%; height:100%' id='"+(id+2)+"'></td>" +
                    "<td><input type='button' style='width:100%; height:100%' id='"+(id+3)+"'></td>" +
                    "<td><input type='button' style='width:100%; height:100%' id='"+(id+4)+"'></td>" +
                    "</tr>";
                id += 5;
            }
            document.getElementById("t").innerHTML = contenuto;
        }
        tabella();

        document.addEventListener('keydown', (event) => {
            const key = event.key;
            let bottone = document.getElementById(currentIndex);

            if (/^[a-zA-Z]$/.test(key) && currentIndex < (tentativo*5)) {
                bottone.value = key.toUpperCase();
                currentIndex++;
            }

            if(key === 'Enter' && currentIndex === tentativo * 5){
                if(tentativo === 6){
                    alert("hai perso");
                }
                controlloRiga();
                tentativo++;
            }

            if (key === 'Backspace') {
                if (currentIndex !== (tentativo*5-5)) {
                    currentIndex--;
                    let bottone = document.getElementById(currentIndex);
                    if (!bottone.disabled) {
                        bottone.value = '';
                    }
                }
                event.preventDefault();
            }
        });
        
        function controlloRiga(){
            let bottone1 = [];
            let j = 0;
            for(let i = (currentIndex-5); i < currentIndex; i++){
                bottone1[j] = document.getElementById(i);
                bottone1[j].disabled = true;
                j++;
            }
        }
    </script>
</html>